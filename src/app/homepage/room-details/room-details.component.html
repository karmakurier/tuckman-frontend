<div class="container">
  <div class="karma-header py-2">
    Willkommen zur Teamübersicht
  </div>
  <div class="row align-items-center py-3">
    <div class="col col-md-6 col-12">
      <div class="full-width">
        <img src="assets/SVGSurvey.svg" alt="People makeing a team survey and analyzing results"
          class="rounded mx-auto d-block full-width">
      </div>
      <p class="center">Aktuell haben {{questionnaireResults.length}} Personen teilgenommen.</p>
      <div class="center mx-auto py-3" [hidden]="questionnaireResults.length===0">
        <a class="btn btn-primary" href="room/{{teamid}}#begin-auswertung" role="button">zur Auswertung</a>
      </div>
      <div class="center mx-auto py-3" [hidden]="questionnaireResults.length!=0">
        <a class="btn btn-primary" href="room/{{teamid}}#invite" role="button">Team einladen</a>
      </div>
    </div>

    <div class="col col-md-6 col-12">
      <p>
        Wir haben für Dich eine Tuckman Analyse angelegt.<br /> Hier findest Du alle
        Informationen, um gemeinsam mit Deinem Team loszulegen. <br />
        Versende den Link am Ende der Seite an alle Teamitglieder, damit sie an der Analyse teilnehmen können.
        Wir speichern keine Mail-Adressen und keine Daten, daher bewahrt die Links gut auf.
        Kehre auf diese Seite zurück, um die Ergebnisse zu sehen.<br />
        Viel Spaß und vergiss nicht selbst mitzumachen!
      </p>
    </div>
  </div>
  <hr />
  <div id=begin-auswertung>
    <h3>Auswertung Tuckman Analyse</h3>
    <p>
      Team: {{room.teamName}} <br>
      <ng-container *ngIf="hasExpiry()"><br> Frist: {{room.expiresAt | date: 'dd.MM.yyyy'}}</ng-container> <br><br>
    </p>
  </div>
  <div class="row align-items-center">
    <div class="col col-md-6 col-12">
      <div class="full-width">
        <app-spiderchart [hidden]="questionnaireResults.length===0" *ngIf="spiderchartdatset.datasets"
          [dataset]="spiderchartdatset"></app-spiderchart>
        <img src="assets/img/questions-welcome.svg" alt="fragezeichen fragebogen interview"
          [hidden]="questionnaireResults.length!=0" class="rounded mx-auto d-bloc full-width">
      </div>
    </div>
    <div class="col col-md-6 col-12">
      <p class="text-left align-middle py-2">
        Hier zeigen wir Euch, wie Euer Team aktuell die Zusammenarbeit erlebt. Ein Team ist selten in einer
        einzelnen Phase alleine. Mit dem Teamüberblick seht Ihr, welche Phase gerade dominiert und, ob alle
        Teammitglieder
        das ähnlich erleben oder nicht. Damit habt Ihr eine gute Gesprächsgrundlage für Euer nächstes Teammeeting.
      </p>
      <p class="text-left align-middle py-2" [hidden]="questionnaireResults.length!=0">
        Sobald Personen aus dem Team die Fragen beantwortet haben, findest Du hier die Auswertung.
      </p>

    </div>
  </div>

  <div class="card" [hidden]="questionnaireResults.length===0">
    <div class="card-header handcursor" id="headingOne" (click)="expandAccordion(0)">
      <h5 class="mb-0 acc-header">
        Forming
        <img class="arrow" [ngClass]="{'expanded': accordionExpanded === 0}" src="assets/img/arrow-down-accordion.svg"
          alt="">
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 0}">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <h5> Euer Mittelwert </h5>
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Forming">
            </app-dotchart>
            <p></p>
          </div>
          <div class="col-md-8">
            <h5> Bedeutung</h5>
            <p> In der Orientierungsphase lernen sich die Teammitglieder kennen und sammeln erste Eindrücke voneinander.
              Der Umgang
              miteinander ist von höflicher Distanz geprägt. Diese Situation wiederholt sich im Teambildung sobald eine
              neue Person dazu kommt. Die Teammitglieder bringen verschiedene Erwartungen und Kompetenzen mit ein, die
              die Anderen zum Ende des Formings kennen und einzuordnen wissen. Erste Ziele und Regeln wurden definiert.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <p></p>
            <h5>Einzelfragen<br><br></h5>
          </div>
        </div>
        <ol>
          <div class="row my-2 flex-column-reverse" *ngFor="let question of getQuestionsForCategoryId(1)">
            <div class="col-md-4">
              <app-dotchartsingle *ngIf="questionnaireResults" [datasetfull]="questionnaireResults" id={{question.id}}>
              </app-dotchartsingle>
              <br><br>
            </div>
            <div class="col-md-8">
              <li>{{question.questionString}}<br><br></li>
            </div>
          </div>
        </ol>
      </div>
    </div>
  </div>
  <div class="card" [hidden]="questionnaireResults.length===0">
    <div class="card-header handcursor" id="headingOne" (click)="expandAccordion(1)">
      <h5 class="mb-0 acc-header">
        Storming
        <img class="arrow" [ngClass]="{'expanded': accordionExpanded === 1}" src="assets/img/arrow-down-accordion.svg"
          alt="">
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 1}">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <h5> Euer Mittelwert </h5>
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Storming">
            </app-dotchart>
            <br><br>
          </div>
          <div class="col-md-8">
            <h5> Bedeutung</h5>
            <p>Die Konfrontationsphase zeichnet sich durch Konflikte im Team aus. Sie ist geprägt von Stillstand,
              Widerständen durch Meinungsverschiedenheiten, Kompetenzgerangel oder verschiedener Zielorientierungen.
              Reibepunkte werden sichtbar und werden aus dem Weg geräumt. Ungeklärtheiten/Frustrationen werden
              identifiziert, Teamrollen werden definiert. Der Stillstand wird behoben und das geminsame, unbeschwerte
              Arbeiten beginnt.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <p></p>
            <h5>Einzelfragen<br><br></h5>
          </div>
        </div>
        <ol>
          <div class="row flex-column-reverse" *ngFor="let question of getQuestionsForCategoryId(2)">
            <div class="col-md-4">
              <app-dotchartsingle *ngIf="questionnaireResults" [datasetfull]="questionnaireResults" id={{question.id}}>
              </app-dotchartsingle>
              <br><br>
            </div>
            <div class="col-md-8">
              <li>{{question.questionString}}<br><br></li>
            </div>
          </div>
        </ol>
      </div>
    </div>
  </div>

  <div class="card" [hidden]="questionnaireResults.length===0">
    <div class="card-header handcursor" id="headingOne" (click)="expandAccordion(2)">
      <h5 class="mb-0 acc-header">
        Norming
        <img class="arrow" [ngClass]="{'expanded': accordionExpanded === 2}" src="assets/img/arrow-down-accordion.svg"
          alt="">
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 2}">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <h5> Euer Mittelwert </h5>
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Norming">
            </app-dotchart>
            <p></p>
          </div>
          <div class="col-md-8">
            <h5> Bedeutung</h5>
            <p>In der Normingphase, welche auch Übereinkommensphase genannt wird, werden Spannungen neutralisiert.
              Es werde Normen und Strukturen deutlich, welche durch alle Teammitglieder gelebt werden.
              Es etablieren sich Teamrollen und die Kommunikation ist verstärkt von Arbeitsthemen geprägt.
              Gemeinsam werden Arbeitsprozesse definiert. Aufkommende Probleme werden gemeinsam diskutiert, um Lösungen
              zu finden.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <p></p>
            <h5>Einzelfragen<br><br></h5>
          </div>
        </div>
        <ol>
          <div class="row flex-column-reverse" *ngFor="let question of getQuestionsForCategoryId(3)">
            <div class="col-md-4">
              <app-dotchartsingle *ngIf="questionnaireResults" [datasetfull]="questionnaireResults" id={{question.id}}>
              </app-dotchartsingle>
              <br><br>
            </div>
            <div class="col-md-8">
              <li>{{question.questionString}} <br><br></li>
            </div>
          </div>
        </ol>
      </div>
    </div>
  </div>

  <div class="card" [hidden]="questionnaireResults.length===0">
    <div class="card-header handcursor" id="headingOne" (click)="expandAccordion(3)">
      <h5 class="mb-0 acc-header">
        Performing
        <img class="arrow" [ngClass]="{'expanded': accordionExpanded === 3}" src="assets/img/arrow-down-accordion.svg"
          alt="">
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 3}">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <h5> Euer Mittelwert </h5>
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Performing">
            </app-dotchart>
            <p></p>
          </div>
          <div class="col-md-8">
            <h5> Bedeutung</h5>
            <p> Diese Phase bezeichnet man unter anderem als Arbeitsphase.
              Das Team wird produktiv, es arbeitet effizient und selbstständig.
              Es agiert im Team, denn gemeinsame Strukturen und definierte Ziele werden fokussiert.
              So wird von nun an stark wertschätzend und mit einer hohen Akzeptanz zusammengearbeitet.
              Eine kooperative Kultur des Miteinander und sich gegenseitig helfen wird etabliert.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <p></p>
            <h5>Einzelfragen<br><br></h5>
          </div>
        </div>
        <ol>
          <div class="row flex-column-reverse" *ngFor="let question of getQuestionsForCategoryId(4)">
            <div class="col-md-4">
              <app-dotchartsingle *ngIf="questionnaireResults" [datasetfull]="questionnaireResults" id={{question.id}}>
              </app-dotchartsingle>
              <br><br>
            </div>
            <div class="col-md-8">
              <li>{{question.questionString}}<br><br></li>
            </div>
          </div>
        </ol>
      </div>
    </div>
  </div>

  <!-- Block Auswertung versenden
  <div>
    <p>Was möchtest du mit Der Auswertung tun?</p>
    <button class="btn btn-secondary" style="margin-right: 5%;" (click)="exportPDF(teamid)">PDF exportieren</button>
    <button class="btn btn-secondary" style="margin-right: 5%;" (click)="printPDF(teamid)">Drucken</button>
    <button class="btn btn-secondary" style="margin-right: 5%;" (click)="share(teamid)">Teilen</button>
  </div>
 -->
  <div id="invite">
    <hr />
    <h3>Teilnehmer einladen</h3>
    <p>Versende den nachfolgenden Link an alle Teilnehmer:innen, sodass sie den Fragebogen beantworten können.</p>
    <div class="row">
      <div class="col col-md-8">
        <app-button-link link=placeholderforlink (link2)="oncopy($event)" [link]="getLinkForParticipants()">
        </app-button-link>
        <p style="font-size: small;">Jede:r mit diesem Link kann teilnehmen. Es ist keine Anmeldung erforderlich.</p>
      </div>
    </div>
    <p>Hier kannst Du den Link direkt mit Deinem E-Mail Programm an Dein Team schicken.</p>
    <div class="row">
      <div class="col col-md-8">
        <app-mail-link [link]="getLinkForParticipants()" email="enteryourmail"></app-mail-link>
        <p style="font-size: small;"> Mehrere E-Mail Adressen können durch ";" getrennt werden. <br> Es werden keine
          E-mail Adressen gespeichert. <br>Du kannst Betreff und Text vor dem Versenden bearbeiten.</p>
      </div>
    </div>
  </div>

  <hr />

  <div>
    <h3>Link zu dieser Seite</h3>
    <p>Wenn Du zu dieser Seite zurückkehren willst, um Dir die Analyse anzusehen, kannst Du nachfolgenden Link kopieren.
    </p>
    <app-button-link link=placeholderforlink (link2)="oncopy($event)" [link]="getLinkForResults()"></app-button-link>
    <p style="font-size: small;">Jeder mit diesem Link kann diese Auswertung sehen</p>
  </div>

  <hr />

  <pre>

    </pre>
</div>