<div class="container">


  <!-- Block Welcome -->
  <p class="center"> Schritt 1 von 2</p>
  <div class="karma-header py-3">
    Willkommen bei eurer persönlichen Tuckman Analyse!
  </div>
  <div class="row align-items-center py-3">
    <div class="col col-md-6 col-12">
      <div class="full-width">
        <img src="assets/SVGSurvey.svg" alt="People makeing a team survey and analyzing results"
          class="rounded mx-auto d-bloc full-width">
      </div>
      <br><br>
    </div>
    <div class="col col-md-6 col-12">
      <h5>Mache dein Team noch stärker</h5>
      <br><br>
      Der amerikanische Psychologe und Hochschullehrer Bruce Wayne Tuckman (1938-2016) entwickelte im Jahr 1965 das
      Tuckman-Phasenmodell als Ausgangspunkt in der Teamentwicklung. Es ist nach wie vor ein Gold-Standard bei der
      Beschreibung von Teambildungsprozessen.
      <br><br>
      Hier erstellen wir für Dich einen Fragebogen, den Du im Anschluss an Dein Team weiterleiten kannst.
      Jedes Teammitglied erhält dann eine individuelle Auswertung.
      Zudem erstellen wir für Euch eine teamspezifische Auswertung.
      So erkennt Ihr, in welcher Phase Ihr Euch befindet und wie Ihr optimal zusammen arbeiten könnt.
      Spannend ist es vor allem zu sehen, wo das Team eine einheitliche Wahrnehmung hat und wo Ihr unterschiedliche
      Perspektiven einnehmt.
    </div>
  </div>
  <br><br>

  <!-- Block Anmeldung -->
  <div class="form-group">
    <input type="text" name="teamname" class="form-control karma-input" [(ngModel)]="room.teamName"
      placeholder="Name des Teams">
  </div>
  <div class="form-group">
    <div class="row">
      <div class="col col-md-6">
        <button type="button" class="btn btn-lg btn-block"
          [ngClass]="{'btn-outline-secondary':!isNonProfit, 'btn-outline-primary':isNonProfit}"
          (click)="changeNonProfit(true)">gemeinnützig</button>
      </div>
      <div class="col col-md-6">
        <button type="button" class="btn btn-lg btn-block"
          [ngClass]="{'btn-outline-secondary':isNonProfit, 'btn-outline-primary':!isNonProfit}"
          (click)="changeNonProfit(false)">nicht gemeinnützig</button>
      </div>
    </div>
  </div>
  <div class="form-group">
    <input type="email" name="mail" class="form-control karma-input" [(ngModel)]="room.initiatorEmail"
      placeholder="Initator E-Mail">
    <p style="font-size: small;">Deine E-Mail wird nicht bei uns gespeichert. Nach Erstellen der Analyse erhältst du
      eine E-Mail mit einem Link von uns, mit welchem Du deine Ergebnisse jederzeit abrufen kannst.</p>
  </div>
  <div class="form-group">
    <textarea name="notes" class="form-control karma-input" [(ngModel)]="room.notes"
      placeholder="Notiz hinzufügen (optional)"></textarea>
  </div>

  <!-- Block Vorschau -->

  <br><br>
  <h5 class="py-1">Vorschau Tuckman Analyse</h5>
  <p style="font-size: small;">Klicke auf die Reiter um eine Vorschau der Teamanalyse zu bekommen</p>
  <div #spiderchartplot class="card">
    <div class="card-header handcursor" id="headingTwo" (click)="expandAccordion(0)">
      <h5 class="mb-0 acc-header">
        Der Teamscore
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 0}">
      <div class="card-body">
        <div class="row align-items-center">
          <div class="col-md-4">
            <app-spiderchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset"></app-spiderchart>
          </div>
          <div class="col-md-8">
            Wir zeigen euch wie euer Team gerade die Zusammenarbeit erlebt. Ein Team ist selten in einer
            einzelenen Phase alleine.
            Mit dem Teamüberblick seht ihr sofort welche Phase gerade dominiert, und ob alle Teammitglieder das
            ähnlich erleben oder nicht.
            Damit habt ihr eine gute Gesprächsgrundlage für euer nächstes Teammeeting.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Block Accordion -->
  <div class="card">
    <div class="card-header handcursor" id="headingThree" (click)="expandAccordion(1)">
      <h5 class="mb-0 acc-header">
        Die Phasen
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 1}">
      <div class="card-body">

        <h4 class="py-3">Forming</h4>
        <div class="row">
          <div class="col-md-4">
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Forming">
            </app-dotchart>
          </div>
          <div class="col-md-8">
            Das Forming gilt auch als Orientierungsphase. Die Teammitglieder lernen sich kennen und sammeln erste
            Eindrücke.
          </div>
        </div>

        <h4 class="py-3">Storming</h4>
        <div class="row">
          <div class="col-md-4">
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Storming">
            </app-dotchart>
          </div>
          <div class="col-md-8">
            Die Konfrontationsphase zeichnet sich durch Konflikte im Team aus. Reibepunkte werden sichtbar und
            werden aus dem Weg geräumt. Ungeklärtheiten/Frustrationen werden identifiziert, Teamrollen werden
            definiert.
          </div>
        </div>

        <h4 class="py-3">Norming</h4>
        <div class="row">
          <div class="col-md-4">
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Norming">
            </app-dotchart>
          </div>
          <div class="col-md-8">
            In der Übereinkommensphase haben sich Spannungen neutralisiert und gelten Normen und Strukturen die von
            jedem gelebt werden. Die Teamrollen haben sich etabliert und die gegenseitige Akzeptanz herscht vor.
          </div>
        </div>

        <h4 class="py-3">Performing</h4>
        <div class="row">
          <div class="col-md-4">
            <app-dotchart *ngIf="spiderchartdatset.datasets" [dataset]="spiderchartdatset" dimension="Performing">
            </app-dotchart>
          </div>
          <div class="col-md-8">
            Hier steht die Performance im Vordergund, das Team ist eingespielt und für die Situation optimal
            ausgestattet. Hier ist operative Umsetzung am stärksten. Neuausrichtung passiert selten.
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header handcursor" id="headingThree" (click)="expandAccordion(2)">
      <h5 class="mb-0 acc-header">
        Die Fragen
      </h5>
    </div>
    <div class="collapse" [ngClass]="{'show': accordionExpanded === 2}">
      <div class="card-body">
        <ol>
          <li *ngFor="let question of questions" class="py-2">{{question.questionString}}</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- Block Frist -->
  <h5 class="py-2">Frist festlegen</h5>
  <p style="font-size: small;">Lege eine Frist fest an welcher alle aus deinem Team teilgenommen haben sollen. </p>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" (change)="timed = !timed">
    <label class="form-check-label" for="exampleCheck1">Jetzt Frist festlegen (Optional)</label>
  </div>
  <div class="form-group">
    <input *ngIf="timed === true" type="text" placeholder="Teilnahmefrist" placement="top"
      class="form-control karma-input" [(ngModel)]="room.expiresAt" bsDatepicker>
  </div>

  <div class="form-group">
    <ng-hcaptcha (verify)="onVerify($event)" (expired)="onExpired($event)" (error)="onError($event)">
    </ng-hcaptcha>
  </div>


  <!-- Block Submit -->

  <div class="text-right">
    <button class="btn btn-secondary karma-button px-3 mx-3" (click)="createRoom()"
      [disabled]="!isNonProfit || !isVerified">
      Erstellen</button>
  </div>
</div>